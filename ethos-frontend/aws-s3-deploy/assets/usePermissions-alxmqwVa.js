import{r,A as i,w as u}from"./index-CxzMjhE-.js";const m=()=>{const{user:n}=r.useContext(i),e=r.useRef({}),o=r.useCallback(t=>{const s=e.current[t];return!!(s!=null&&s.canView)},[]),a=r.useCallback(t=>{const s=e.current[t];return!!(s!=null&&s.canEdit)},[]),c=r.useCallback(async t=>{if(!(n!=null&&n.id)||!t)return null;try{const s=await u(t);return e.current[t]=s,s}catch(s){return console.warn(`[Permissions] Failed to load for board ${t}`,s),null}},[n==null?void 0:n.id]);return{hasAccessToBoard:o,loadPermissions:c,canEditBoard:a}};export{m as u};
