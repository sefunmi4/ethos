import{h as p,r,j as e,a as h,i as g}from"./index-CxzMjhE-.js";import{a as j}from"./quest-3nETprwz.js";import{A as y}from"./AvatarStack-DgfcvvW3.js";import"./post-BFgSlzkn.js";const S=()=>{const{questId:t}=p(),[d,l]=r.useState(!0),[c,m]=r.useState(""),[o,u]=r.useState([]);return r.useEffect(()=>{if(!t)return;(async()=>{l(!0);try{const n=await j(t);m(n.title);const x=(n.collaborators||[]).filter(a=>a.userId),f=await Promise.all(x.map(async a=>{try{const i=await g(a.userId);return{...a,username:i.username||a.username,avatarUrl:i.avatarUrl}}catch{return{...a}}}));u(f)}finally{l(!1)}})()},[t]),d?e.jsx(h,{}):e.jsxs("main",{className:"max-w-4xl mx-auto p-4 space-y-4",children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["Team for ",c]}),o.length===0?e.jsx("p",{className:"text-secondary",children:"No collaborators yet."}):e.jsx("ul",{className:"grid gap-4 grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:o.map(s=>e.jsxs("li",{className:"border rounded-lg p-4 bg-surface space-y-2",children:[e.jsx(y,{users:[{avatarUrl:s.avatarUrl,username:s.username}],max:1}),e.jsxs("div",{className:"text-sm font-semibold",children:["@",s.username||s.userId]}),s.roles&&s.roles.length>0&&e.jsxs("div",{className:"text-xs text-secondary",children:["Roles: ",s.roles.join(", ")]})]},s.userId))})]})};export{S as default};
