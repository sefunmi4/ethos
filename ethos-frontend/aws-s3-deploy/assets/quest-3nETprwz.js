import{k as a}from"./index-CxzMjhE-.js";import{k as $,a as d}from"./post-BFgSlzkn.js";const e="/quests",f=async t=>(await a.post(e,t)).data,g=async()=>(await a.get(e)).data,Q=async t=>{const s=new URLSearchParams;t&&s.set("userId",t);const r=`${e}/featured${s.toString()?`?${s.toString()}`:""}`;return(await a.get(r)).data},P=async t=>{const s=new URLSearchParams,r=`${e}/active${s.toString()?`?${s.toString()}`:""}`;return(await a.get(r)).data},k=async(t,s)=>(await a.patch(`${e}/${t}`,s)).data,B=async t=>(await a.get(`${e}/${t}?enrich=true`)).data,I=async t=>(await a.post(`${e}/${t}/archive`)).data,S=async t=>(await a.delete(`${e}/${t}`)).data,h=async t=>(await a.get(`${e}/${t}/map`)).data,v=async(t,s)=>(await a.post(`${e}/${t}/link`,s)).data,R=async(t,s)=>(await a.patch(`${e}/${t}/map`,{edges:s})).data,A=async(t,s)=>{const r=new URLSearchParams;return s&&r.set("userId",s),(await a.get(`/boards/${t}/quests${r.toString()?`?${r.toString()}`:""}`)).data},D=async(t,s)=>(await a.patch(`${e}/${t}/moderate`,s)).data,L=async t=>{const[s,r]=await Promise.all([$(t.id),h(t.id)]),o=s.filter(n=>n.type==="log"),c=s.filter(n=>n.type==="task"),l=s.filter(n=>n.type==="free_speech"||n.type==="meta_system"),u=c.filter(n=>n.status==="Done").length,i=c.length,p=await d(t.headPostId),y=(await Promise.all(t.linkedPosts.map(async n=>n.itemType==="post"?await d(n.itemId):null))).filter(Boolean);return{...t,headPost:p,linkedPostsResolved:y,logs:o,tasks:c,discussion:l,taskGraph:r.edges,completedTasks:u,taskCount:i,percentComplete:i>0?Math.floor(u/i*100):0,isFeatured:!1,isNew:!1}},T=async t=>(await a.post(`${e}/${t}/follow`)).data,U=async t=>(await a.post(`${e}/${t}/unfollow`)).data,_=async t=>(await a.post(`${e}/${t}/promote`)).data;export{B as a,g as b,Q as c,A as d,L as e,P as f,I as g,f as h,U as i,T as j,R as k,v as l,D as m,h as n,_ as p,S as r,k as u};
